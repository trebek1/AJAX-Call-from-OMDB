
<html> 
<p id="notice"><%= notice %></p>

<h1>Listing Contents</h1>

<table>
  <thead>
    <tr>
      <th>Category</th>
      <th>Title</th>
      <th>Content</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @contents.each do |content| %>
      <tr>
        <td><%= content.category %></td>
        <td><%= content.title %></td>
        <td><%= content.content %></td>
        <td><%= link_to 'Show', content %></td>
        <td><%= link_to 'Edit', edit_content_path(content) %></td>
        <td><%= link_to 'Destroy', content, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<div id = "search_results"> </div>


<script> 

var url = "http://www.omdbapi.com/?s=Wedding";

$.getJSON(url, function(data) {
    var list = "<ul>";
    // Iterate through the data object returned
    data.Search.forEach( function(item) {
        // Add the title of result to the list
        list += "<li>" + item.Title + "</li>";
    })
    // Close the unordered list
    list += "</ul>";

    // Now we just add the newly created list to the results div
    $("#search_results").html(list);
});

</script> 

<br>

<%= link_to 'New Content', new_content_path %>
</html> 